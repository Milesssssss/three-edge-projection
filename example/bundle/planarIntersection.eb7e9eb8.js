let e,t,n,i,o,r,a,d,l,s;var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},w={},c={},m=p.parcelRequire6c98;null==m&&((m=function(e){if(e in w)return w[e].exports;if(e in c){var t=c[e];delete c[e];var n={id:e,exports:{}};return w[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){c[e]=t},p.parcelRequire6c98=m);var u=m("ilwiq"),h=m("jiuw3"),f=m("5Rd1x"),g=m("7lx9d"),y=m("7ePFa"),x=m("kp7Te"),b=m("4CEV9"),M=m("6KVZ3");const P={displayModel:!0,planePosition:1};function v(){let e,t;a.geometry.dispose();let n=new b.PlanarIntersectionGenerator;n.plane.constant=-P.planePosition,e=performance.now(),a.geometry=n.generate(o),t=performance.now()-e,s.innerText=`${t.toFixed(2)}ms`}!async function(){s=document.getElementById("output"),(e=new u.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),e.setClearColor(1118481,1),e.clear(),document.body.appendChild(e.domElement),n=new u.Scene;let p=new u.DirectionalLight(16777215,3.5);p.position.set(1,2,3),n.add(p);let w=new u.AmbientLight(11583173,.5);n.add(w),d=new u.Group,n.add(d);let c=await new(0,g.GLTFLoader)().setMeshoptDecoder(x.MeshoptDecoder).loadAsync("https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/models/nasa-m2020/Perseverance.glb");r=c.scene;let m=[];r.updateWorldMatrix(!0,!0),r.traverse(e=>{if(e.geometry){let t=e.geometry.clone();if(t.applyMatrix4(e.matrixWorld),t.morphTargetsRelative=!1,t.morphAttributes)for(let e in t.morphAttributes)delete t.morphAttributes[e];for(let e in t.attributes)"position"!==e&&t.deleteAttribute(e);m.push(t)}});let b=(0,y.mergeGeometries)(m,!1);o=new M.MeshBVH(b,{maxLeafTris:1});let L=new u.Box3;L.setFromObject(r,!0),L.getCenter(d.position).multiplyScalar(-1),d.position.y=Math.max(0,-L.min.y)+1,d.add(r),(l=new u.Mesh(new u.PlaneGeometry(5,5),new u.MeshBasicMaterial({color:3355443,transparent:!0,opacity:.5,side:u.DoubleSide}))).rotation.x=-Math.PI/2,d.add(l),(a=new u.LineSegments(new u.BufferGeometry,new u.LineBasicMaterial({color:15658734}))).scale.y=0,n.add(a),(t=new u.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.01,50)).position.setScalar(3.5),t.updateProjectionMatrix(),new f.OrbitControls(t,e.domElement),v(),(i=new h.GUI).add(P,"displayModel"),i.add(P,"planePosition",0,2.5).onChange(()=>v()),function i(){requestAnimationFrame(i),d.visible=P.displayModel,a.visible=P.displayProjection,l.position.y=P.planePosition,e.render(n,t)}(),window.addEventListener("resize",function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)},!1)}();
//# sourceMappingURL=planarIntersection.eb7e9eb8.js.map
